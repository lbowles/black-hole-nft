<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>BlackHole SVG</title>
  </head>

  <body>
    <div id="canvasContainer"></div>
    <script>
      const canvasSize = 40
      const holeSize = Math.random() * 5 + 10

      function createCircleArray(size) {
        const gridSize = canvasSize
        let circleArray = []
        for (let i = 0; i < gridSize; i++) {
          let row = []
          for (let j = 0; j < gridSize; j++) {
            let x = j - gridSize / 2
            let y = i - gridSize / 2
            let distance = Math.sqrt(x * x + y * y)
            let value = 0
            //Each value represents a differtent color on the grid that is used in createSVG, these create the rings
            switch (true) {
              case distance <= size / 2:
                value = 1
                break
              case distance <= size / 2 + 1 && distance >= size / 2 - 1:
                value = 2
                break
              case distance <= size / 2 + 2 && distance >= size / 2 - 2:
                value = 3
                break
              case distance <= size / 2 + 3 && distance >= size / 2 - 3:
                value = 4
                break
              case distance <= size / 2 + 4 && distance >= size / 2 - 4:
                value = 5
                break
              case distance <= size / 2 + 6 && distance >= size / 2 - 6:
                value = 7
                break
              default:
                value = 0
            }
            circleArray.push(value)
          }
        }

        return circleArray
      }

      function createSVG(pixelArray) {
        const gridSize = canvasSize
        const backgroundColors = [
          "#140E0E",
          "#160F0D",
          "#17120E",
          "#181214",
          "#18130F",
          "#181310",
          "#181410",
          "#1A1210",
          "#1A1511",
          "#1B1310",
          "#1B1517",
          "#282221",
        ]
        let svg = `<svg width="${gridSize * 8}" height="${gridSize * 8}" style="background-color:transparent">`
        for (let i = 0; i < gridSize; i++) {
          for (let j = 0; j < gridSize; j++) {
            let x = j * 8
            let y = i * 8
            let randomIndex = Math.floor(Math.random() * 200)
            let fillColor = ""
            switch (pixelArray[i * gridSize + (j % gridSize)]) {
              //Rings
              case 1:
                fillColor = "black"
                break
              case 2:
                fillColor = "#361902"
                break
              case 3:
                fillColor = "#FFD088"
                break
              case 4:
                fillColor = "#BD460A"
                break
              case 5:
                fillColor = "#390706"
                break
              case 7:
                //Random redish pixels around the perimiter
                switch (randomIndex) {
                  case 0:
                    fillColor = "#852C27"
                    break
                  case 1:
                    fillColor = "#741D27"
                    break
                  case 2:
                    fillColor = "#8F5359"
                    break
                  case 3:
                    fillColor = "#D1652C"
                    break
                  default:
                    fillColor = backgroundColors[Math.floor(Math.random() * backgroundColors.length)]
                    break
                }
                break
              default:
                //Background noise, I added this case 0 as a low probibility representing stars.
                switch (randomIndex) {
                  case 0:
                    fillColor = "#504940"
                    break
                  default:
                    fillColor = backgroundColors[Math.floor(Math.random() * backgroundColors.length)]
                    break
                }
                break
            }
            svg += `<rect x="${x}" y="${y}" width="8" height="8" fill="${fillColor}"/>`
          }
        }
        svg += `</svg>`
        return svg
      }

      document.getElementById("canvasContainer").innerHTML = ""
      const canvas = document.createElement("div")
      canvas.innerHTML = createSVG(createCircleArray(holeSize))
      document.getElementById("canvasContainer").appendChild(canvas)
    </script>
  </body>
</html>
